[
  {
    "objectID": "cann_dashboard.html",
    "href": "cann_dashboard.html",
    "title": "Canning Weir Pool Dashboard",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(arrow)\n\n\nAttaching package: 'arrow'\n\nThe following object is masked from 'package:lubridate':\n\n    duration\n\nThe following object is masked from 'package:utils':\n\n    timestamp\n\nlibrary(bslib)\n\n\nAttaching package: 'bslib'\n\nThe following object is masked from 'package:utils':\n\n    page\n\nlibrary(bsicons)\nlibrary(leaflet)\nlibrary(oce)\n\nLoading required package: gsw\n\nbuild_day &lt;- Sys.Date() \n\nsource('R/climatology_calc.R')\nsource('R/future_trend_calc.R')\nsource('R/historic_trend_calc.R')\n\n### READ IN INSITU TARGETS\nlake_directory &lt;- getwd()\noptions(timeout=300)\n\ninsitu_obs_url&lt;- \"https://renc.osn.xsede.org/bio230121-bucket01/flare/targets/CANN/CANN-targets-insitu.csv\"\n\nobs_cleaned &lt;- readr::read_csv(insitu_obs_url) |&gt; \n  filter(variable %in% c('TEMP','salt'),\n         depth == 1.5) |&gt; ##insitu sensors and met \n  #dplyr::filter(is.na(inflow_name)) |&gt; \n  collect() |&gt; \n  lubridate::with_tz(datetime, tzone = \"Australia/Perth\")\n\nRows: 9784 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (2): site_id, variable\ndbl  (2): depth, observation\ndttm (1): datetime\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nobs_updated &lt;- max(obs_cleaned$datetime,na.rm = TRUE)\n## WATER TEMPERATURE \ninterest_var &lt;- 'TEMP'\ninterest_site &lt;- 'CANN'\nday_range &lt;- 10\n\ntemp_df &lt;- obs_cleaned |&gt; \n  filter(variable == interest_var) #|&gt; \n  #mutate(variable = 'temperature')\n\ntemp_updated &lt;- temp_df |&gt; \n  filter(datetime == max(temp_df$datetime)) |&gt;\n  distinct(datetime) |&gt; \n  pull(datetime)\n\ncurrent_temp &lt;- temp_df |&gt; \n  filter(datetime == temp_updated) |&gt; \n  mutate(var_unit = paste0(round(observation,1), ' °C')) |&gt; \n  pull(var_unit)\n\ntemp_clim_values &lt;- climatology_calc(obs_df = temp_df, day_of_interest = temp_updated, clim_var = interest_var) ## returns CLIM AVG and BS ICON FOR ARROW DIRECTION\n\ntemp_trend_future &lt;- future_trend_calc(day_of_interest = temp_updated, interest_var = 'temperature', days_ahead = day_range, interest_site = interest_site)\n\ntemp_trend_historic &lt;- historic_trend_calc(day_of_interest = temp_updated, interest_var = 'temperature', days_historic = day_range, interest_site = interest_site)\n## SALINITY\ninterest_var &lt;- 'salt'\n\nsalt_df &lt;- obs_cleaned |&gt; \n  filter(variable == interest_var)\n\nsalt_updated &lt;- salt_df |&gt; \n  filter(datetime == max(salt_df$datetime)) |&gt;\n  pull(datetime)\n\ncurrent_salt &lt;- salt_df |&gt; \n  filter(datetime == salt_updated) |&gt; \n  mutate(var_unit = paste0(round(observation,1), ' ppt')) |&gt; \n  pull(var_unit)\n\nsalt_clim_values &lt;- climatology_calc(obs_df = salt_df, day_of_interest = salt_updated, clim_var = interest_var)\n\nsalt_trend_future &lt;- future_trend_calc(day_of_interest = salt_updated, interest_var = interest_var, days_ahead = day_range, interest_site = interest_site)\n\nsalt_trend_historic &lt;- historic_trend_calc(day_of_interest = temp_updated, interest_var = interest_var, days_historic = day_range, interest_site = interest_site)\n## LAKE HEIGHT\ninterest_var &lt;- 'depth'\n\ndepth_df &lt;- obs_cleaned |&gt; \n  filter(variable == interest_var)\n\ndepth_updated &lt;- depth_df |&gt; \n  filter(datetime == max(depth_df$datetime)) |&gt;\n  pull(datetime)\n\ncurrent_depth &lt;- depth_df |&gt; \n  filter(datetime == depth_updated) |&gt; \n  mutate(var_unit = paste0(round(observation,1), ' AHD')) |&gt; \n  pull(var_unit)\n\nheight_clim_values &lt;- climatology_calc(obs_df = depth_df, day_of_interest = depth_updated, clim_var = interest_var)\n\nheight_trend_future &lt;- future_trend_calc(day_of_interest = depth_updated, interest_var = interest_var, days_ahead = day_range, interest_site = interest_site)\n\nheight_trend_historic &lt;- historic_trend_calc(day_of_interest = temp_updated, interest_var = interest_var, days_historic = day_range, interest_site = interest_site)"
  },
  {
    "objectID": "cann_dashboard.html#section",
    "href": "cann_dashboard.html#section",
    "title": "Canning Weir Pool Dashboard",
    "section": "",
    "text": "Data for Canning Weir Pool:\n\n\n\nMost Recent Data\n{r} obs_updated\n\n\n\n\n\n\n\n\n\n\nDisclaimer\n\n\n\n\n\nThe data provided on this page are experimental"
  },
  {
    "objectID": "cann_dashboard.html#row",
    "href": "cann_dashboard.html#row",
    "title": "Canning Weir Pool Dashboard",
    "section": "Row",
    "text": "Row\n\nlist(\n icon = \"thermometer-half\",\n color = \"primary\",\n value = current_temp\n)\n\n$icon\n[1] \"thermometer-half\"\n\n$color\n[1] \"primary\"\n\n$value\n[1] \"23.8 °C\"\n\n\n\nlist(\n icon = \"droplet-half\",\n color = \"primary\",\n value = current_salt\n)\n\n$icon\n[1] \"droplet-half\"\n\n$color\n[1] \"primary\"\n\n$value\n[1] \"0.4 ppt\""
  },
  {
    "objectID": "cann_dashboard.html#row-1",
    "href": "cann_dashboard.html#row-1",
    "title": "Canning Weir Pool Dashboard",
    "section": "Row",
    "text": "Row\n\nlist(\n icon = \"cloud-fog2\",\n color = \"primary\",\n value = paste(round(wind_speed_obs$wind_speed_mean,2), ' km/hr')\n)\n\n$icon\n[1] \"cloud-fog2\"\n\n$color\n[1] \"primary\"\n\n$value\n[1] \"32.26  km/hr\""
  },
  {
    "objectID": "cann_dashboard.html#row-2",
    "href": "cann_dashboard.html#row-2",
    "title": "Canning Weir Pool Dashboard",
    "section": "Row",
    "text": "Row\n\nlist(\n icon = temp_clim_values[[2]],\n color = \"primary\",\n value = temp_clim_values[[3]]\n )\n\n$icon\n[1] \"arrow-bar-up\"\n\n$color\n[1] \"primary\"\n\n$value\n[1] \"Higher\"\n\n\n\nlist(\n icon = salt_clim_values[[2]],\n color = \"primary\",\n value = salt_clim_values[[3]]\n)\n\n$icon\n[1] \"arrow-bar-right\"\n\n$color\n[1] \"primary\"\n\n$value\n[1] \"Similar\""
  },
  {
    "objectID": "cann_dashboard.html#row-3",
    "href": "cann_dashboard.html#row-3",
    "title": "Canning Weir Pool Dashboard",
    "section": "Row",
    "text": "Row\n\nlist(\n icon = temp_trend_historic[[2]],\n color = \"primary\",\n value = temp_trend_historic[[3]]\n)\n\n$icon\n[1] \"arrow-bar-right\"\n\n$color\n[1] \"primary\"\n\n$value\n[1] \"No Change\"\n\n\n\nlist(\n icon = salt_trend_historic[[2]],\n color = \"primary\",\n value = salt_trend_historic[[3]]\n)\n\n$icon\n[1] \"arrow-bar-right\"\n\n$color\n[1] \"primary\"\n\n$value\n[1] \"No Change\""
  },
  {
    "objectID": "cann_dashboard.html#row-4",
    "href": "cann_dashboard.html#row-4",
    "title": "Canning Weir Pool Dashboard",
    "section": "Row",
    "text": "Row\n\nlist(\n icon = temp_trend_future[[2]],\n color = \"primary\",\n value = temp_trend_future[[3]]\n)\n\n$icon\n[1] \"arrow-bar-right\"\n\n$color\n[1] \"primary\"\n\n$value\n[1] \"No Change\"\n\n\n\nlist(\n icon = salt_trend_future[[2]],\n color = \"primary\",\n value = salt_trend_future[[3]]\n)\n\n$icon\n[1] \"arrow-bar-right\"\n\n$color\n[1] \"primary\"\n\n$value\n[1] \"No Change\""
  },
  {
    "objectID": "cann_dashboard.html#row-5",
    "href": "cann_dashboard.html#row-5",
    "title": "Canning Weir Pool Dashboard",
    "section": "Row",
    "text": "Row\n\n\n\n\n\n\n\nThis material is based upon work supported by the National Science Foundation under Grant OISE-2330211. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.  \nWe would like to acknowledge Water Data SA for providing observational data for the forecasts presented on this dashboard.\nPage last updated on 2025-03-17"
  }
]